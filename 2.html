<!DOCTYPE html>
<html>
	<head>
		<!--Import materialize.css-->
		<link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

		<!-- Import custom.css -->
		<link type="text/css" rel="stylesheet" href="css/custom.css"  media="screen,projection"/>

		<!-- Import prism.css - for code -->
		<link type="text/css" rel="stylesheet" href="css/prism.css"  media="screen,projection"/>

		<!--Let browser know website is optimized for mobile-->
		<meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
	</head>

	<body>
		<header>
			<nav class="cyan accent-4 z-depth-2">
				<div class="nav-wrapper container">
						<a href="index.html" class="brand-logo light"><img src="img/fhirbase_white.png" width="20px" /> FHIRbase</a>
						<ul id="nav-mobile" class="right hide-on-med-and-down">
							<li><a href="1.html">Обзор</a></li>
							<li class="active"><a href="2.html">Быстрый старт</a></li>
							<li><a href="3.html">Документация</a></li>
							<li><a href="4.html">Демонстрация</a></li>
						</ul>
					</div>
				</nav>
		</header>
		<main>
			<div class="container">
				<div class="row">
					<div class="section col s12 m9 l10">
						<div id="download" class="row scrollspy">
							<h2 class="col s12 header">Установка</h2>
						</div>
						<div id="vagrant" class="section scrollspy">
							<p class="promo-caption">Vagrant</p>
							<p>
		  Простейшая и кроссплатформенная инсталляция FHIRbase выполняется с помощью vagrant. Установите <a href="http://www.vagrantup.com/downloads">Vagrant</a> или удостоверьтесь, что он уже стоит, проверив его версию. Далее клонируйте проект FHIRbase, перейдите в папку проекта и запустите Vagrant.
							</p>
							<a class="btn waves-effect waves-light" href="http://www.vagrantup.com/downloads" target="_blank">Vagrant<i class="mdi-file-file-download right"></i></a>
							<pre class=" language-bash"><code class=" language-bash">
vagrant -v
# Vagrant 1.7.2
git clone https://github.com/fhirbase/fhirbase.git
cd fhirbase
vagrant up
# this action could take a time to load fhirbase container
								</code></pre>
							<pre class=" language-bash"><code class=" language-bash">
vagrant ssh-config
# HostName 172.17.0.15 &lt;&lt;- vm &lt;ip&gt;
#  User vagrant
#  Port 22
								</code></pre>
							<pre class=" language-bash"><code class=" language-bash">
psql -h &lt;ip&gt; -p 5432 -U fhirbase
# password: fhirbase

# if you like gui interfaces,
# use pgadmin with connection
# * host: &lt;ip&gt;
# * database: fhirbase
# * user: fhirbase
# * password: fhirbase
								</code></pre>	
						</div>
						<div id="linux" class="section scrollspy">		  
							<p class="promo-caption">Установка на linux (ubuntu)</p>
							<p>
Requirements:
* PostgreSQL 9.4
* pgcrypto
* pg_trgm
* btree_gin
* btree_gist

You can install fhirbase:
							</p>
							<pre class=" language-bash"><code class=" language-bash">
sudo apt-get install postgresql-9.4 postgresql-contrib-9.4 curl
# create local user for ident auth
sudo su postgres -c 'createuser -s &lt;you-local-user&gt;'
# create empty database
psql -d postgres -c 'create database test'
# install last version of fhirbase
curl https://raw.githubusercontent.com/fhirbase/fhirbase-build/master/fhirbase.sql | psql -d test
# generate tables
psql -d test -c 'SELECT fhir.generate_tables()'

psql
#> \dt
							</code></pre>
						<p>
Here is asci cast for simplest installation - [https://asciinema.org/a/17236].
						</p>
					</div>
					<div id="docker" class="section scrollspy">
						<p class="promo-caption">Установка с помощью Docker</p>
						<p>
Fhirbase could be installed using [docker](https://www.docker.com/)
						</p>
						<pre class=" language-bash"><code class=" language-bash">
#run database container
docker run --name=fhirbase -d fhirbase/fhirbase-build

docker inspect fhirbase
# read ip of started container

docker run --rm -i -t fhirbase/fhirbase-build psql -h &lt;container-ip&gt; -U fhirbase -p 5432
							</code></pre>
						<p>
There are two images on dockerhub:
 * [fhirbase](https://registry.hub.docker.com/u/fhirbase/fhirbase) - auto-build
 * [fhirbase-build](https://registry.hub.docker.com/u/fhirbase/fhirbase-build) - manual build (more robust)

You could build image by yourself:
						</p>
						<pre class=" language-bash"><code class=" language-bash">
git clone https://github.com/fhirbase/fhirbase/
cd fhirbase
docker build -t fhirbase:latest .
#run database container
docker run --name=fhirbase -d fhirbase

docker inspect fhirbase
# read ip of started container

docker run --rm -i -t fhirbase psql -h &lt;container-ip&gt; -U fhirbase -p 5432
							</code></pre>
					</div>
					<div id="development_installation" class="section scrollspy">
						<p class="promo-caption">Development installation</p>
						<p>
For development environment:
						</p>
						<pre class=" language-bash"><code class=" language-bash">
sudo apt-get install -qqy postgresql-9.4 postgresql-contrib-9.4 curl python
sudo su postgres -c 'createuser -s &lt;you-local-user&gt;'
export PGUSER=&lt;you-local-user&gt;
export DB=test

git clone https://github.com/fhirbase/fhirbase
cd fhirbase
./runme integrate
							</code></pre>
					</div>
				</div>
				<!-- Table of Contents -->
				<div class="col hide-on-small-only m3 l2">
					<div class="toc-wrapper">
						<ul class="section table-of-contents">
							<li><a href="#vagrant">Vagrant</a></li>
							<li><a href="#linux">Linux</a></li>
							<li><a href="#docker">Docker</a></li>
							<li><a href="#development_installation">Development</a></li>
						</ul>
					</div>
				</div>
				<!-- End of Table of Contents -->	
			</div>

		</div>
	</main>
	<!-- Footer -->
	<footer class="page-footer cyan darken-3 z-depth-2">
		<div class="container">
			<div class="row">
				<div class="col l6 s12">
					<h5 class="white-text">Ссылки</h5>
					<ul>
						<li><a class="grey-text text-lighten-3" href="http://fhir-ru.github.io/index.html" target="_blank">Стандарт FHIR</a></li>
						<li><a class="grey-text text-lighten-3" href="https://github.com/fhirbase/fhirbase" target="_blank">Проект на GitHub</a></li>
						<li><a class="grey-text text-lighten-3" href="http://try-fhirplace.hospital-systems.com/fhirbase-presentation/index.html#/" target="_blank">Презентация FHIRbase</a></li>
						<li><a class="grey-text text-lighten-3" href="http://health-samurai.io" target="_blank">Сайт команды Health Samurai</a></li>
						<li><a class="grey-text text-lighten-3" href="https://medium.com/@health_samurai" target="_blank">Наш блог</a></li>
					</ul>
				</div>
				<div class="col l4 offset-l2 s12">
					<h5 class="white-text">Связь</h5>
					<p class="grey-text text-lighten-4"><!-- You can use rows and columns here to organize your footer content. --></p>
					<a href="https://twitter.com/health_samurai" class="twitter-follow-button" data-show-count="false" data-lang="ru" data-size="large">Читать @health_samurai</a>
					<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
					<br />
					<a href="https://twitter.com/share" class="twitter-share-button" data-via="health_samurai" data-lang="ru" data-size="large">Твитнуть</a>
					<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
					<div class="g-plusone" data-size="tall" data-annotation="none" data-href="https://plus.google.com/u/0/106276017181324261891/posts"></div>
				</div>
			</div>
		</div>
		<div class="footer-copyright">
			<div class="container">
        © 2014 Health Samurai, All Rights Reserved
				<a class="grey-text text-lighten-4 right" href="#!"><!-- More Links --></a>
			</div>
		</div>
	</footer>

	<!--Import jQuery before materialize.js-->
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
	<script type="text/javascript" src="js/materialize.min.js"></script>
	<script src="js/init.js"></script>
	<script type="text/javascript">
      $(document).ready(function(){
        $('.parallax').parallax();
      });
	</script>

	<!-- Кнопка гугл+ -->
	<script src="https://apis.google.com/js/platform.js" async defer>
	  {lang: 'ru'}
	</script>

	<!-- For Table of Contents -->
	<script type="text/javascript" src="js/materialize.min.js">
		$(document).ready(function(){
			$('.scrollspy').scrollSpy();
		});
	</script>

</body>
</html>